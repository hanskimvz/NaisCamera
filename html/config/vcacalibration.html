<!DOCTYPE html lang="en">
<html lang="en" >

<?php
include ("../inc/common.php");
echo $header;
?>
<body>
    <div id="wrapper">
		<div id="content-wrapper" class="d-flex flex-column">
            <div id="content">
				<p class="menuLocationInfo"><span>Setup</span> > <span>VCA Configuration</span> > <strong>3D Calibration</strong></p>
				<div class="container-fluid">
					<div class="row col-lg-12" >
						<div class="card col-lg-9 pl-0 pr-0 pt-0 pb-0">
							<canvas id="canvas" class="card-img-top"></canvas>
						</div>
						<div class="card col-lg-3 ">
							<img id="calibrationLegend" class="card-img-top ml-0 mr-0" src="../images/camera_calibration.bmp" />
							<div class="card">
								<div class="card-header pt-1 pb-1">
									<h6 class="mb-0 font-weight-bold text-primary">Calibration status</h6>
								</div>
								<div class="card-body pt-1 pb-1 ">
									<div class="form-group form-inline mb-0">
										<span class="col-md-5">Status</span>
										<span id="uncalibrated">Uncalibrated</span>
										<span id="calibratedSideon" hidden>Uncalibrated</span>
									</div>
								</div>
							</div>
							<div class="card mt-1">
								<div class="card-header pt-1 pb-1">
									<h6 class="mb-0 font-weight-bold text-primary">Preset Setups</h6>
								</div>
								<div class="card-body pt-1 pb-1 ">
									<div class="form-group form-inline mb-0">
										<span class="col-md-5">Select</span>
										<select id="formPreset" class="form-control-custom">
											<option value="overhead">Overhead</option>
											<option value="deg60">60 deg lookdown</option>
											<option value="deg30">30 deg lookdown</option>
											<option value="custom">Custom</option>
										</select>
									</div>
								</div>
							</div>
							<div class="card mt-1">
								<div class="card-header pt-1 pb-1">
									<h6 class="mb-0 font-weight-bold text-primary">Camera setup</h6>
								</div>
								<div class="card-body pt-1 pb-1 ">
									<div class="form-group form-inline mb-1">
										<span class="col-md-5">Height</span>
										<input type="text" id="formHeight" class="form-control-custom text-center" size="3"/>
										<span>meters</span>
									</div>
									<div class="form-group form-inline mb-1">
										<span class="col-md-5">Tilt angle</span>
										<input type="text" id="formTiltDegree" class="form-control-custom text-center" size="3"/>
										<span>degrees</span>
									</div>
									<input type="range" id="sliderTiltDegree" class="slider col-md-12" />
									<div class="form-group form-inline mb-0">
										<span class="col-md-5">Vertical FOV</span>
										<input type="text" id="formFOV" class="form-control-custom text-center" size="3"/>
										<span>degrees</span>
									</div>
									<input type="range" id="sliderFOV" class="slider col-md-12" />
								</div>
							</div>
							<div class="card mt-1 mb-2">
								<div class="card-header pt-1 pb-1">
									<h6 class="mb-0 font-weight-bold text-primary">Advanced parameters</h6>
								</div>
								<div class="card-body pt-1 pb-1 ">
									<div class="form-group form-inline mb-1">
										<span class="col-md-5">Pan angle</span>
										<input type="text" id="formPanDegree" class="form-control-custom text-center" size="3"/>
										<span>degrees</span>
									</div>
									<input type="range" id="sliderPanDegree" class="slider col-md-12 " />
									<div class="form-group form-inline mb-0">
										<span class="col-md-5">Roll angle</span>
										<input type="text" id="formRollAngle" class="form-control-custom text-center" size="3"/>
										<span>degrees</span>
									</div>
									<input type="range" id="sliderRollAngle" class="slider col-md-12" />
								</div>
							</div>							
						</div>
					</div>
					<div class="mt-2 text-center">
						<button id='btnApply'class="btn btn-sm btn-primary">Apply</button>
						<button id='btnRestoreDefaults' class="btn btn-sm btn-secondary">Restore Defaults</button>
					</div>
				</div>
			</div>
		</div>
	</div>


 

</body>
<?=$footer?>

<script>
	var canvas = document.getElementById("canvas");
	canvas.width=720;
	canvas.height = 360;
	var ctx = canvas.getContext('2d');
	var img =  new Image();
	img.src="../images/demo_screen.jpg";
	ctx.drawImage(img, 0,0,720,360);
	function render(){
		img.src="../images/demo_screen.jpg";
		ctx.drawImage(img, 0,0,720,360);


	}
	function main() {
		render();
		requestAnimationFrame(main);
	}
	main();
</script>

<script>
$("button").on("click", function () {
	console.log(this);
	if (this.id == "modalApply") {
		console.log($("#formUserName").val());
	}
});

$(".slider").on("input", function () {
	xt = this.id.replace("slider","form");
 	$("#" + xt).val(this.value);
});

</script>
</html>

