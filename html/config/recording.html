<!DOCTYPE html lang="en">
<html lang="en" >
<?php
include ("../inc/common.php");
echo $header;
?>

<body>
    <div id="wrapper">
		<div id="content-wrapper" class="d-flex flex-column">
            <div id="content">
				<p class="menuLocationInfo"><span>Setup</span> > <span>Storage</span> > <strong><span>Recording</span></strong></p>
				<div class="container-fluid">
					<div class="row">
						<div class="card col-lg-6">
							<div class="card-header">
								<h6 class="m-0 font-weight-bold text-primary">Record type</h6>
							</div>
							<div class="card-body">
								<div class="form-group mb-0">
									<div class="form-inline">
										<label class="form-check">
											<input type="radio" name="formRecType" id="formRecType0" value="avi" class="form-check-input" />
											<span>Continuous recordidng</span>
										</label>
										<label class="form-check ml-2">
											<input type="radio" name="formRecType" id="formRecType1" value="dat" class="form-check-input" />
											<span>Event recording</span>
										</label>
										<label class="form-check ml-2">
											<input type="radio" name="formRecType" id="formRecType2" value="no" class="form-check-input" />
											<span>None</span>
										</label>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div id="continuous_storage_option" class="row mt-2" hidden>
						<div class="card col-lg-6">
							<div class="card-header">
								<h6 class="m-0 font-weight-bold text-primary">Recording Storage Options</h6>
							</div>
							<div class="card-body">
								<div class="form-group mb-0">
									<span class="font-weight-bold">Storage device</span>
									<label class="form-check">
										<input type="checkbox" name="formRecType" id="formRecType0" value="avi" class="form-check-input" />
										<span>SD card</span>
									</label>
									<span class="font-weight-bold">When disk is full</span>
									<div class="form-inline">
										<label class="form-check">
											<input type="radio" name="formARRecycling" id="formARRecycling0" value="no" class="form-check-input" />
											<span>Stop recording</span>
										</label>
										<label class="form-check ml-2">
											<input type="radio" name="formARRecycling" id="formARRecycling1" value="yes" class="form-check-input" />
											<span>Delete files and recycle (oldest first)</span>
										</label>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div id="continuous_recoding_setting" class="row mt-2" hidden>
						<div class="card col-lg-6">
							<div class="card-header">
								<h6 class="m-0 font-weight-bold text-primary">Recording Setting</h6>
							</div>
							<div class="card-body">
								<div class="form-group">
									<div class="form-inline">
										<span class="col-md-3">Prefix of filename</span>
										<input type="text" id="formARRecSet" class="form-control-custom col-md-4" />
										<label>_CYYYYMMDD_hhmmss-XXXXXXXXXX.avi</label>>
									</div>
									<div class="form-inline mt-1 mb-1">
										<span class="col-md-3 ">Recording resource</span>
										<select id="formARRecRes" class="form-control-custom col-md-4">
											<option value="video">Video only</option>
											<option value="audiovideo">Audio & Video</option>
										</select>
									</div>
									<span class="col-md-3">Maximum file size/duration</span>
									<div class="form-inline ml-4">
										<label class="form-check">
											<input type="radio" name="formARPriRulSeg" id="formARPriRulSeg1" value="size" class="form-check-input" />
											<span>Size</span>
										</label>
										<input type="range" id="sliderARMegabyte" min="100" max="1440" class="slider ml-2" style="width:200px;" />
										<input type="text" id="formARMegabyte" class="form-control-custom text-center ml-2 mr-2" size="5" />
										<label>(100 ... 1440 mb)</label>
									</div>
									<div class="form-inline ml-4">
										<label class="form-check">
											<input type="radio" name="formARPriRulSeg" id="formARPriRulSeg2" value="time" class="form-check-input" />
											<span>Time</span>
										</label>
										<input type="range" id="sliderARMinute" min="5" max="20" class="slider ml-2" style="width:200px;" />
										<input type="text" id="formARMinute" class="form-control-custom text-center ml-2 mr-2" size="5" />
										<label>(5 ... 20 <span>minute(s)</span>)</label>
									</div>
									<div class="form-inline mt-1">
										<span class="col-md-3">Stream source</span>
										<select id="formARPriStream" class="form-control-custom col-md-2">
											<option value="first">First stream</option>
											<option value="second">Second Stream</option>
										</select>
									</div>
								</div>
							</div>
						</div>
					</div>
					
					<div id="event_storage_option" class="row mt-2" hidden>
						<div class="card col-lg-6">
							<div class="card-header">
								<h6 class="m-0 font-weight-bold text-primary">Recording Storage Options</h6>
							</div>
							<div class="card-body">
								<div class="form-group mb-0">
									<div class="form-inline">
										<span class="col-md-2">Storage device </span>
										<select id="formADStorageDevice" class="form-control-custom col-md-3">
											<option value="ftp">sd+ftp</option>
											<option value="sd">sd</option>
										</select>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div id="event_recording_setting" class="row mt-2" hidden>
						<div class="card col-lg-6">
							<div class="card-header">
								<h6 class="m-0 font-weight-bold text-primary">Recording Setting</h6>
							</div>
							<div class="card-body">
								<div class="form-group">
									<div class="form-inline mt-1 mb-1">
										<span class="col-md-3 ">Recording resource </span>
										<label class="form-check">
											<input type="checkbox" id="recSrcCheckBoxVideo" class="form-check-input" />
											<span>Video</span>
										</label>
										<label class="form-check">
											<input type="checkbox" id="recSrcCheckBoxAudeo"  class="form-check-input ml-2"/>
											<span>Audio</span>
										</label>
										<label class="form-check">
											<input type="checkbox" id="recSrcCheckBoxVcameta" class="form-check-input ml-2" />
											<span>VCA meta</span>
										</label>
										<label class="form-check">
											<input type="checkbox" id="recSrcCheckBoxMdmeta"  class="form-check-input ml-2"/>
											<span>MD meta</span>
										</label>
									</div>
									<div class="form-inline ml-4">
										<span class="col-md-3">Recording hold off time</span>
										<input type="range" id="sliderADDuration" min="5" max="60" class="slider ml-3" style="width:200px;" />
										<input type="text" id="formADDuration" class="form-control-custom text-center ml-2 mr-2" size="5" />
										<label>(0 ... 60 <span>sec(s)</span>)</label>
									</div>
									<div class="form-inline mt-1">
										<span class="col-md-3">Stream source</span>
										<select id="formADPriStream" class="form-control-custom col-md-2">
											<option value="first">First stream</option>
											<option value="second">Second stream</option>
										</select>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="col-lg-6 mt-2 mb-4 text-center">
						<button id="btnApply" class="btn btn-sm btn-primary">Apply</button>
					</div>

					<div id="instant_recording" class="row mt-2" hidden>
						<div class="card col-lg-6">
							<div class="card-header">
								<h6 class="m-0 font-weight-bold text-primary">Instant Recording</h6>
							</div>
							<div class="card-body">
								<button id="btnDown"  class="btn btn-sm btn-warning float-right">Download</button>
								<div class="form-group form-inline mb-0">
									<button id="btnStart" class="btn btn-sm btn-primary">Start</button>
									<button id="btnStop" class="btn btn-sm btn-primary ml-3">Stop</button>
									<input type="text" id="formARConfRecSec" class="form-control-custom text-center ml-4 mr-2" size="8" value="60"/>
									<label>(10 ... 600, 60 <span>sec(s)</span>)</label>
									<span id="testText"></span>
								</div>
							</div>
						</div>
					</div>

				</div>
			</div>
		</div>
	</div>
	<div id="debug_console"></div>
</body>
<?=$footer?>
<script>
$("button").on("click", function () {
	console.log(this);
	if (this.id == "modalApply") {
		console.log($("#formUserName").val());
	}
});

$("input[type='radio']").on("click", function () {
	console.log(this);
	$("#continuous_storage_option").prop("hidden", true);
	$("#continuous_recoding_setting").prop("hidden", true);
	$("#instant_recording").prop("hidden", true);	
	$("#event_storage_option").prop("hidden", true);
	$("#event_recording_setting").prop("hidden", true);	
	if (this.id=="formRecType0") {
		$("#continuous_storage_option").prop("hidden", false);
		$("#continuous_recoding_setting").prop("hidden", false);
		$("#instant_recording").prop("hidden", false);
	}
	else if (this.id=="formRecType1") {
		$("#event_storage_option").prop("hidden", false);
		$("#event_recording_setting").prop("hidden", false);
	}	
});


$(".slider").on("input", function () {
	xt = this.id.replace("slider","form");
 	$("#" + xt).val(this.value);
});


</script>
</html>
